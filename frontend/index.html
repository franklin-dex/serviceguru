<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Guru</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
      }
      .search-section {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }
      #results .card {
        margin-bottom: 20px;
      }
      #message {
        color: green;
        font-size: 1.2em;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <!-- HEADER -->
    <header class="p-3 text-bg-dark">
      <div class="container">
        <div
          class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
        >
          <a
            href="/"
            class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none"
          >
            <img
              src="./assets/img/logo-no-background.png"
              alt="service"
              width="200"
            />
          </a>

          <ul
            class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"
          >
            <li>
              <a href="index.html" class="nav-link px-2 text-secondary">Home</a>
            </li>
            <li>
              <a href="./public/search.html" class="nav-link px-2 text-white"
                >Services</a
              >
            </li>
            <li><a href="./public/about.html" class="nav-link px-2 text-white">About</a></li>
          </ul>
          <div class="text-end">
            <a href="./public/register.html"
              ><button type="button" class="btn btn-warning">
                Get started
              </button></a
            >
          </div>
        </div>
      </div>
    </header>

    <!-- HERO SECTION -->
    <div class="container col-xl-10 col-xxl-8 px-4 py-5">
      <div class="row align-items-center g-lg-5 py-5">
        <div class="col-lg-7 text-center text-lg-start">
          <h1 class="display-4 fw-bold lh-1 text-body-emphasis mb-3">
            Find Trusted Service Providers Near You
          </h1>
          <p class="col-lg-10 fs-4">
            Connect with local experts for all your needs – from home repairs to
            professional services, we've got you covered.
          </p>
        </div>
        <div class="col-md-10 mx-auto col-lg-5">
          <!-- SEARCH SECTION -->
          <div class="container">
            <form id="searchForm">
              <select id="state" required>
                <option value="">Select State</option>
                <option value="Abia">Abia</option>
                <option value="Adamawa">Adamawa</option>
                <option value="Akwa Ibom">Akwa Ibom</option>
                <option value="Anambra">Anambra</option>
                <option value="Bauchi">Bauchi</option>
                <option value="Bayelsa">Bayelsa</option>
                <option value="Benue">Benue</option>
                <option value="Borno">Borno</option>
                <option value="Cross River">Cross River</option>
                <option value="Delta">Delta</option>
                <option value="Ebonyi">Ebonyi</option>
                <option value="Edo">Edo</option>
                <option value="Ekiti">Ekiti</option>
                <option value="Enugu">Enugu</option>
                <option value="Gombe">Gombe</option>
                <option value="Imo">Imo</option>
                <option value="Jigawa">Jigawa</option>
                <option value="Kaduna">Kaduna</option>
                <option value="Kano">Kano</option>
                <option value="Katsina">Katsina</option>
                <option value="Kebbi">Kebbi</option>
                <option value="Kogi">Kogi</option>
                <option value="Kwara">Kwara</option>
                <option value="Lagos">Lagos</option>
                <option value="Nasarawa">Nasarawa</option>
                <option value="Niger">Niger</option>
                <option value="Ogun">Ogun</option>
                <option value="Ondo">Ondo</option>
                <option value="Osun">Osun</option>
                <option value="Oyo">Oyo</option>
                <option value="Plateau">Plateau</option>
                <option value="Rivers">Rivers</option>
                <option value="Sokoto">Sokoto</option>
                <option value="Taraba">Taraba</option>
                <option value="Yobe">Yobe</option>
                <option value="Zamfara">Zamfara</option>
                <option value="FCT">FCT</option>
              </select>

              <select id="lga" required>
                <option value="">Select LGA</option>
              </select>

              <select id="service" required>
                <option value="">Select Service</option>
                <option value="Plumbing">Plumbing</option>
                <option value="Electrical">Electrical</option>
                <option value="Carpentry">Carpentry</option>
                <option value="Painting">Painting</option>
                <option value="Roofing">Roofing</option>
                <option value="Locksmith">Locksmith</option>
                <option value="Laundry">Laundry</option>
                <option value="Solar panel installation">
                  Solar panel installation
                </option>
                <option value="Entertainment">Entertainment</option>
              </select>

              <button type="submit">Search</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    
<!-- RESULT -->
    <div class="container" id="results"></div>
    
    <!-- FOOTER -->
    <div class="container">
      <footer class="py-3 my-4">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
          <li>
            <a href="index.html" class="nav-link px-2 text-secondary">Home</a>
          </li>
          <li>
            <a href="search.html" class="nav-link px-2 text-secondary"
              >Services</a
            >
          </li>
          <li>
            <a href="about.html" class="nav-link px-2 text-secondary">About</a>
          </li>
        </ul>
        <p class="text-center text-body-secondary">© 2024 Serviceguru</p>
      </footer>
    </div>
    <script>
      async function loadStateLGAData() {
        try {
          const response = await fetch("./public/stateLGA.json");
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          const data = await response.json();
          console.log("LGA Data Loaded:", data);

          document
            .getElementById("state")
            .addEventListener("change", function () {
              const selectedState = this.value;
              const lgaSelect = document.getElementById("lga");
              lgaSelect.innerHTML = '<option value="">Select LGA</option>'; // Clear previous options

              if (data[selectedState]) {
                data[selectedState].forEach((lga) => {
                  const option = document.createElement("option");
                  option.value = lga;
                  option.textContent = lga;
                  lgaSelect.appendChild(option);
                });
              }
            });
        } catch (error) {
          console.error("Error loading stateLGA.json:", error);
          alert("Error loading state and LGA data.");
        }
      }

      window.addEventListener("load", loadStateLGAData);
    </script>
    <script src="./assets/js/search.js"></script>
  </body>
</html>
